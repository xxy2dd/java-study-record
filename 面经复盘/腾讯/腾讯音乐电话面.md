### 2019.8.21 腾讯音乐 

35min

1. Java 的 GC 机制

2. TCP 三次握手过程，中间交换的信息有哪些，SYN=1具体是什么数据？

   * 三次握手的目的是连接服务器指定端口，建立 TCP连接，并同步连接双方的序列号和确认号，交换 TCP窗口大小信息。
   * SYN 标志位 的一种

3. TCP 包的内容

   * ![img](http://hi.csdn.net/attachment/201109/8/0_1315497633XFTf.gif)
   * 补充：IP 包结构
     * ![img](http://hi.csdn.net/attachment/201109/8/0_131549627162sy.gif)

4. TCP 首部有 IP 地址吗？

   * IP 地址由 封装在 IP 首部，TCP 首部包含的是端口号

5. 建立连接后客户端向服务端发送三个包，服务端会收到几个包？

6. 滑动窗口机制，如何把窗口大小告诉对方？

   * ACK 携带两个信息
     * 期待要收到的下一个数据包的编号
     * 接收方的接收窗口的剩余容量

7. 断开连接 四次挥手的过程

8. socket()过程中如何知道对方已经断开连接？

   * 通常，在最简单的阻塞模型中，调用recv时，如果返回0，则表示对端关闭。

9. 算法题：找到单链表的中间节点

10. B+ 树了解吗？为什么索引用 B+ 树？

11. MySQL 的事务

    * 事务的原子性和持久性是由事务日志（undo log 和 redo log 保证的）

    * 隔离性：事务的隔离级别，MySQL 使用了 REPEATABLE READ 作为默认配置

      

12. 讲一下 MVCC，怎么做到可重复读的？

    * 版本号：
      * 系统版本号：递增的数字，没开始一个新的事物，系统版本号就会自动递增
      * 事务版本号：事务开始时的系统版本号
    * 隐藏的列：每行记录后面保存着两个隐藏的列
      * 创建版本号
      * 删除版本号
    * 当开始一个事务时，该事务的版本号肯定大于当前所有数据行快照的创建版本号。
      * select：T 读取的数据行快照的创建版本号必须小于等于 T 的版本号，删除版本号必须是未定义或者大于 T 的版本号
      * insert：将当前系统版本号作为数据行快照的创建版本号
      * delete：将当前系统版本号作为数据行快照的删除版本号
      * update：将当前系统版本号作为更新前的数据行快照的删除版本号，并将当前系统版本号作为更新后的数据行快照的创建版本号

13. Linux 语句使用过吗？

14. 硬链接和软链接区别？

    *  软链接实际上只是一段文字，里面包含着它所指向的文件的名字，系统看到软链接后自动跳到对应的文件位置处进行处理；可以链接不存在的文件
    * 硬链接为文件开设一个新的目录项，硬链接与文件原有的名字是平权的，有着相同的inode号仅文件名不同，在Linux看来它们是等价的。由于这个原因，硬链接不能连接两个不同文件系统上的文件。
      * 不允许给目录创建硬链接；
      * 只有在同一文件系统中的文件之间才能创建硬链接。
      * 只嗯呢该对已存在的文件进行创建

15. 从 40亿 数据中找到重复的数据